<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>pnwkit</title>
	<meta name="description" content="Documentation for pnwkit">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">pnwkit</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>pnwkit</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><a href="https://open.vscode.dev/bsnk-dev/pnwkit"><img src="https://open.vscode.dev/badges/open-in-vscode.svg" alt="Open in Visual Studio Code"></a></p>
				<p align="center">
					<a href="https://github.com/bsnk-dev/pnwkit">
						<img src="https://assets.bsnk.dev/pnwkit_icon.png" alt="Logo" width="120" height="120">
					</a>
					<h3 align="center">PnWKit</h3>
					<p align="center">
						Politics & War V3 API Library
						<br />
						<a href="https://bsnk-dev.github.io/pnwkit/"><strong>Explore the docs »</strong></a>
						<br />
						<br />
						<a href="https://pypi.org/project/pnwkit-py/">Python Version</a>
						·
						<a href="https://github.com/bsnk-dev/pnwkit/issues">Report Bug</a>
						·
						<a href="https://github.com/bsnk-dev/pnwkit/issues">Request Feature</a>
					</p>
				</p>
				<p>PnWKit is here to make interacting with the V3 Politics and War API easy. All you have to do is import the library, add your key, and make a query.</p>
				<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
					<h2>Getting Started</h2>
				</a>
				<p>To get started using PnWKit you must first have node and npm installed, or you can use it in a browser. It is recommended you are using TypeScript, as it
				will give you full advantage of the advanced typings within the library and allow you to be much more productive.</p>
				<a href="#prerequisites" id="prerequisites" style="color: inherit; text-decoration: none;">
					<h3>Prerequisites</h3>
				</a>
				<p>Install the library using NPM.</p>
				<ul>
					<li>npm<pre><code class="language-sh"><span style="color: #000000">npm i --save pnwkit</span>
</code></pre>
					</li>
				</ul>
				<a href="#future-plans" id="future-plans" style="color: inherit; text-decoration: none;">
					<h3>Future Plans</h3>
				</a>
				<p>Baseball queries are coming soon with v2.3.0!</p>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p>To use PnWKit just import the library and add your key, then you can make asyncronous queries.</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">pnwkit</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;pnwkit&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">pnwkit</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;xxxxx&#039;</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">nations</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">pnwkit</span><span style="color: #000000">.</span><span style="color: #795E26">nationQuery</span><span style="color: #000000">({</span><span style="color: #001080">id:</span><span style="color: #000000"> [</span><span style="color: #098658">100541</span><span style="color: #000000">], </span><span style="color: #001080">first:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">}, </span><span style="color: #A31515">`nation_name`</span><span style="color: #000000">);</span>

<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">`Nation name: </span><span style="color: #0000FF">${</span><span style="color: #001080">nations</span><span style="color: #000000FF">[</span><span style="color: #098658">0</span><span style="color: #000000FF">].</span><span style="color: #001080">nation_name</span><span style="color: #0000FF">}</span><span style="color: #A31515">`</span><span style="color: #000000">);</span>
</code></pre>
				<p>If you want to paginate your query for more results, just enable pagination after your query.</p>
				<pre><code class="language-ts"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">nations</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">pnwkit</span><span style="color: #000000">.</span><span style="color: #795E26">nationQuery</span><span style="color: #000000">({</span><span style="color: #001080">id:</span><span style="color: #000000"> [</span><span style="color: #098658">100541</span><span style="color: #000000">], </span><span style="color: #001080">first:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">}, </span><span style="color: #A31515">`nation_name`</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>

<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">`Nation name: </span><span style="color: #0000FF">${</span><span style="color: #001080">nations</span><span style="color: #000000FF">.</span><span style="color: #001080">data</span><span style="color: #000000FF">[</span><span style="color: #098658">0</span><span style="color: #000000FF">].</span><span style="color: #001080">nation_name</span>
<span style="color: #001080">name</span><span style="color: #0000FF">}</span><span style="color: #A31515">, current page: </span><span style="color: #0000FF">${</span><span style="color: #001080">nations</span><span style="color: #000000FF">.</span><span style="color: #001080">paginatorInfo</span><span style="color: #000000FF">.</span><span style="color: #001080">currentPage</span><span style="color: #0000FF">}</span><span style="color: #A31515">`</span><span style="color: #000000">);</span>
</code></pre>
				<p>The queries are written in normal GraphQL, so you can get all the cities in a nation like this</p>
				<pre><code class="language-ts"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">nations</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">pnwkit</span><span style="color: #000000">.</span><span style="color: #795E26">nationQuery</span><span style="color: #000000">({</span><span style="color: #001080">id:</span><span style="color: #000000"> [</span><span style="color: #098658">100541</span><span style="color: #000000">], </span><span style="color: #001080">first:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">}, </span>
<span style="color: #000000">  </span><span style="color: #A31515">`</span>
<span style="color: #A31515">  nation_name,</span>
<span style="color: #A31515">  cities {</span>
<span style="color: #A31515">    name  </span>
<span style="color: #A31515">  }`</span><span style="color: #000000">);</span>

<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">`First city of </span><span style="color: #0000FF">${</span><span style="color: #001080">nations</span><span style="color: #000000FF">[</span><span style="color: #098658">0</span><span style="color: #000000FF">].</span><span style="color: #001080">nation_name</span><span style="color: #0000FF">}</span><span style="color: #A31515">: </span><span style="color: #0000FF">${</span><span style="color: #001080">nations</span><span style="color: #000000FF">[</span><span style="color: #098658">0</span><span style="color: #000000FF">].</span><span style="color: #001080">cities</span><span style="color: #000000FF">[</span><span style="color: #098658">0</span><span style="color: #000000FF">].</span><span style="color: #001080">name</span><span style="color: #0000FF">}</span><span style="color: #A31515">`</span><span style="color: #000000">);</span>
</code></pre>
				<p>If you want to have multiple copies of PnWKit running at the same time, you can use the Kit class export.</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> {</span><span style="color: #001080">Kit</span><span style="color: #000000">} </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;pnwkit&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">pnwkit</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Kit</span><span style="color: #000000">();</span>
<span style="color: #001080">pnwkit</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;xxxx&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// queries...</span>
</code></pre>
				<a href="#use-with-require" id="use-with-require" style="color: inherit; text-decoration: none;">
					<h3>Use with require()</h3>
				</a>
				<p>PnWKit also supports require() like in vanilla js.</p>
				<pre><code class="language-js"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">pnwkit</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;pnwkit&#039;</span><span style="color: #000000">);</span>

<span style="color: #001080">pnwkit</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;xxxx&#039;</span><span style="color: #000000">);</span>
<span style="color: #008000">// etc..</span>
</code></pre>
				<a href="#caching" id="caching" style="color: inherit; text-decoration: none;">
					<h3>Caching</h3>
				</a>
				<p>PnWKit has caching built right in for your convenience.
				Just create a cache function with <code>PnWKit.cached</code> and define how long it can be cached for. Then call it like normal.</p>
				<p>Different calls return different cached versions too.</p>
				<pre><code class="language-ts"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">cachableNationQuery</span><span style="color: #000000"> = </span><span style="color: #001080">pnwkit</span><span style="color: #000000">.</span><span style="color: #795E26">cached</span><span style="color: #000000">(</span>
<span style="color: #000000">  </span><span style="color: #001080">pnwkit</span><span style="color: #000000">.</span><span style="color: #001080">nationQuery</span><span style="color: #000000">, </span><span style="color: #008000">// The query you want to cache</span>
<span style="color: #000000">  </span><span style="color: #098658">1</span><span style="color: #000000">                   </span><span style="color: #008000">// How long that query can be cached at a time, in minutes</span>
<span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">nations</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #795E26">cachableNationQuery</span><span style="color: #000000">({</span><span style="color: #001080">id:</span><span style="color: #000000"> [</span><span style="color: #098658">100541</span><span style="color: #000000">], </span><span style="color: #001080">first:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">}, </span><span style="color: #A31515">`nation_name`</span><span style="color: #000000">);</span>

<span style="color: #008000">// If you call it again within the age limit you&#039;ll get a cached version</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">nationsCached</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #795E26">cachableNationQuery</span><span style="color: #000000">({</span><span style="color: #001080">id:</span><span style="color: #000000"> [</span><span style="color: #098658">100541</span><span style="color: #000000">], </span><span style="color: #001080">first:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">}, </span><span style="color: #A31515">`nation_name`</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#ratelimit-information" id="ratelimit-information" style="color: inherit; text-decoration: none;">
					<h3>Ratelimit Information</h3>
				</a>
				<p>PnwKit stores the following rate limit info for your convenience.</p>
				<ul>
					<li><code>pnwkit.rateLimit.limit</code>: The maximum number of requests you can make in a given time period.</li>
					<li><code>pnwkit.rateLimit.remaining</code>: The number of requests you have left in the current time period.</li>
					<li><code>pnwkit.rateLimit.reset</code>: The unix timestamp at which point the rate limit resets.</li>
					<li><code>pnwkit.rateLimit.resetAfterSeconds</code>: The number of seconds until the rate limit resets.</li>
				</ul>
				<p>You can also do the following queries in PnWKit:</p>
				<ul>
					<li>nationQuery</li>
					<li>allianceQuery</li>
					<li>tradePricesQuery</li>
					<li>tradeQuery</li>
					<li>warQuery</li>
					<li>treasureQuery</li>
					<li>colorQuery</li>
					<li>bountyQuery</li>
					<li>cityQuery</li>
					<li>warAttackQuery</li>
					<li>bankRecordsQuery</li>
				</ul>
				<p>You can look at the arguments and possible data to collect here at the <a href="https://bsnk-dev.github.io/pnwkit/">docs</a>.</p>
				<a href="#development" id="development" style="color: inherit; text-decoration: none;">
					<h1>Development</h1>
				</a>
				<a href="#testing" id="testing" style="color: inherit; text-decoration: none;">
					<h2>Testing</h2>
				</a>
				<a href="#setup" id="setup" style="color: inherit; text-decoration: none;">
					<h3>Setup</h3>
				</a>
				<p>Tests won&#39;t work right away, you have to specify private information inside the test/testconfig.json file.</p>
				<p>It should look like this:</p>
				<pre><code class="language-json"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #0451A5">&quot;apiKey&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;xxxxx&quot;</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>After that just run <code>npm run test</code></p>
				<a href="#generating-docs" id="generating-docs" style="color: inherit; text-decoration: none;">
					<h2>Generating Docs</h2>
				</a>
				<p>To generate documentation use the script: <code>npm run docs</code>.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api.html">api</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_alliancequery.html">api/endpoints/<wbr>Alliance<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_bankrecordsquery.html">api/endpoints/<wbr>Bank<wbr>Records<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_bountyquery.html">api/endpoints/<wbr>Bounty<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_cityquery.html">api/endpoints/<wbr>City<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_colorquery.html">api/endpoints/<wbr>Color<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_nationquery.html">api/endpoints/<wbr>Nation<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_tradepricesquery.html">api/endpoints/<wbr>Trade<wbr>Prices<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_tradequery.html">api/endpoints/<wbr>Trade<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_treasurequery.html">api/endpoints/<wbr>Treasure<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_warattackquery.html">api/endpoints/<wbr>War<wbr>Attack<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/api_endpoints_warquery.html">api/endpoints/<wbr>War<wbr>Query</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index.html">index</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/interfaces_politicsandwargraphql.html">interfaces/<wbr>Politics<wbr>And<wbr>War<wbr>GraphQL</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>